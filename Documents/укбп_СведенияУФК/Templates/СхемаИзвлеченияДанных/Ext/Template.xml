<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИсточникДанных1</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetQuery">
		<name>НаборДанных1</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЗаказПокупателя</dataPath>
			<field>ЗаказПокупателя</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Заказ покупателя</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЗаказУКБП</dataPath>
			<field>ЗаказУКБП</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Заказ УКБП</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СтатьяСведений</dataPath>
			<field>СтатьяСведений</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Статья сведений</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>УкрупненныйКод</dataPath>
			<field>УкрупненныйКод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Укрупненный код</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДетализированныйКод</dataPath>
			<field>ДетализированныйКод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Детализированный код</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СуммаСведения</dataPath>
			<field>СуммаСведения</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сумма сведения</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>БанковскийСчет</dataPath>
			<field>БанковскийСчет</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Банковский счет</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЛимитРасходаПоСведениям</dataPath>
			<field>ЛимитРасходаПоСведениям</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Лимит расхода по сведениям</v8:content>
				</v8:item>
			</title>
		</field>
		<dataSource>ИсточникДанных1</dataSource>
		<query>ВЫБРАТЬ
	укбп_ЗаказЗаявка.Ссылка КАК Ссылка,
	укбп_ЗаказЗаявка.БанковскийСчетОрганизации КАК БанковскийСчетОрганизации
ПОМЕСТИТЬ ТаблицаДокументовЗаказУКБП
ИЗ
	Документ.укбп_ЗаказЗаявка КАК укбп_ЗаказЗаявка
ГДЕ
	укбп_ЗаказЗаявка.Проведен
	И укбп_ЗаказЗаявка.БанковскийСчетОрганизации.ТипБанковскогоСчета = ЗНАЧЕНИЕ(Перечисление.укбп_ТипыБанковскихСчетов.КазначейскоеСопровождение)
{ГДЕ
	укбп_ЗаказЗаявка.Ссылка.* КАК ЗаказУКБП,
	укбп_ЗаказЗаявка.БанковскийСчетОрганизации.* КАК БанковскийСчет}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТаблицаДокументовЗаказУКБП.Ссылка КАК ЗаказУКБП,
	ЗаказПокупателя.Ссылка КАК ЗаказПокупателя
ПОМЕСТИТЬ ТаблицаДокументовСЗаказамиПокупателей
ИЗ
	ТаблицаДокументовЗаказУКБП КАК ТаблицаДокументовЗаказУКБП
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.ЗаказПокупателя КАК ЗаказПокупателя
		ПО ТаблицаДокументовЗаказУКБП.Ссылка = ЗаказПокупателя.СпецификацияДоговора
ГДЕ
	ТаблицаДокументовЗаказУКБП.Ссылка.ВидОперации = ЗНАЧЕНИЕ(Перечисление.укбп_ВидОперацииЗаказЗаявка.ПоставкаУслуги)
{ГДЕ
	ЗаказПокупателя.Ссылка.* КАК ЗаказПокупателя}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТаблицаДокументовЗаказУКБП.Ссылка,
	укбп_ЗаказЗаявкаИзделия.ЗаказПокупателя
ИЗ
	ТаблицаДокументовЗаказУКБП КАК ТаблицаДокументовЗаказУКБП
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.укбп_ЗаказЗаявка.Изделия КАК укбп_ЗаказЗаявкаИзделия
		ПО ТаблицаДокументовЗаказУКБП.Ссылка = укбп_ЗаказЗаявкаИзделия.Ссылка
ГДЕ
	ТаблицаДокументовЗаказУКБП.Ссылка.ВидОперации = ЗНАЧЕНИЕ(Перечисление.укбп_ВидОперацииЗаказЗаявка.НИОКР)
{ГДЕ
	укбп_ЗаказЗаявкаИзделия.ЗаказПокупателя.*}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	укбп_ЗаказЗаявкаИзделия.Ссылка.ВидОперации,
	укбп_ЗаказЗаявкаИзделия.Ссылка.ВидДоговора,
	укбп_ЗаказЗаявкаИзделия.Количество,
	укбп_ЗаказЗаявкаИзделия.Ссылка.укбп_ВидРаздельногоУчета,
	укбп_ЗаказЗаявкаИзделия.СтавкаНДС,
	ТаблицаДокументовСЗаказамиПокупателей.ЗаказПокупателя,
	укбп_ЗаказЗаявкаИзделия.ШифрИзделия,
	укбп_ЗаказЗаявкаИзделия.Ссылка КАК ЗаказУКБП,
	укбп_ЗаказЗаявкаИзделия.КалькуляцияНаИзделие,
	укбп_ЗаказЗаявкаИзделия.Цена
ПОМЕСТИТЬ ТабличнаяЧастьЗаказУКБП
ИЗ
	ТаблицаДокументовСЗаказамиПокупателей КАК ТаблицаДокументовСЗаказамиПокупателей
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.укбп_ЗаказЗаявка.Изделия КАК укбп_ЗаказЗаявкаИзделия
		ПО ТаблицаДокументовСЗаказамиПокупателей.ЗаказУКБП = укбп_ЗаказЗаявкаИзделия.Ссылка
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВЫРАЗИТЬ(&amp;СтатьяУФК7440 КАК Справочник.укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС).УкрупненныйКодСведений КАК УкрупненныйКод,
	ВЫРАЗИТЬ(&amp;СтатьяУФК7440 КАК Справочник.укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС).Код КАК ДетализированныйКод,
	&amp;СтатьяУФК7440 КАК ДетализированнаяСтатьяУФК,
	ДенежныеСредстваОстаткиИОбороты.СуммаНачальныйОстаток,
	ДенежныеСредстваОстаткиИОбороты.СуммаКонечныйОстаток,
	ДенежныеСредстваОстаткиИОбороты.СуммаПриход
ПОМЕСТИТЬ ТаблицаСДенежнымиСредствами
ИЗ
	РегистрНакопления.ДенежныеСредства.ОстаткиИОбороты(
			&amp;НачалоПериода,
			&amp;КонецПериода,
			,
			,
			БанковскийСчетКасса В
				(ВЫБРАТЬ
					ТаблицаДокументовЗаказУКБП.БанковскийСчетОрганизации
				ИЗ
					ТаблицаДокументовЗаказУКБП КАК ТаблицаДокументовЗаказУКБП)) КАК ДенежныеСредстваОстаткиИОбороты
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТабличнаяЧастьЗаказУКБП.ВидОперации КАК ВидОперации,
	ТабличнаяЧастьЗаказУКБП.ВидДоговора КАК ВидДоговора,
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.СтатьяКалькуляции КАК СтатьяКалькуляции,
	ТабличнаяЧастьЗаказУКБП.Количество * укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Сумма КАК СуммаОриентировочная,
	0 КАК СуммаФиксированная,
	ТабличнаяЧастьЗаказУКБП.укбп_ВидРаздельногоУчета КАК укбп_ВидРаздельногоУчета,
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Прибыль КАК Прибыль,
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Цена * ТабличнаяЧастьЗаказУКБП.Количество КАК ЦенаБезНДС,
	ВЫБОР
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18_118)
			ТОГДА 0.18
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20_120)
			ТОГДА 0.2
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10_110)
			ТОГДА 0.1
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС0)
			ТОГДА 0
	КОНЕЦ * укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Цена * ТабличнаяЧастьЗаказУКБП.Количество КАК НДС,
	ВЫБОР
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18_118)
			ТОГДА 1.18
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20_120)
			ТОГДА 1.2
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10_110)
			ТОГДА 1.1
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС0)
			ТОГДА 1
	КОНЕЦ * укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Цена * ТабличнаяЧастьЗаказУКБП.Количество КАК ЦенаСНДС,
	ТабличнаяЧастьЗаказУКБП.Количество КАК Количество
ПОМЕСТИТЬ ОбъединениеКалькуляцииНДСИПрибыль
ИЗ
	ТабличнаяЧастьЗаказУКБП КАК ТабличнаяЧастьЗаказУКБП
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.укбп_КалькуляцияНаИзделие.КалькуляцияЗатрат КАК укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат
		ПО ТабличнаяЧастьЗаказУКБП.КалькуляцияНаИзделие = укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка
ГДЕ
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.ТипЦен = &amp;ТипЦенОриент
	И ТабличнаяЧастьЗаказУКБП.ВидОперации = ЗНАЧЕНИЕ(Перечисление.укбп_ВидОперацииЗаказЗаявка.ПоставкаУслуги)

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТабличнаяЧастьЗаказУКБП.ВидОперации,
	ТабличнаяЧастьЗаказУКБП.ВидДоговора,
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.СтатьяКалькуляции,
	0,
	ТабличнаяЧастьЗаказУКБП.Количество * укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Сумма,
	ТабличнаяЧастьЗаказУКБП.укбп_ВидРаздельногоУчета,
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Прибыль,
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Цена * ТабличнаяЧастьЗаказУКБП.Количество,
	ВЫБОР
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18_118)
			ТОГДА 0.18
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20_120)
			ТОГДА 0.2
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10_110)
			ТОГДА 0.1
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС0)
			ТОГДА 0
	КОНЕЦ * укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Цена * ТабличнаяЧастьЗаказУКБП.Количество,
	ВЫБОР
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18_118)
			ТОГДА 1.18
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20_120)
			ТОГДА 1.2
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10_110)
			ТОГДА 1.1
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС0)
			ТОГДА 1
	КОНЕЦ * укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Цена * ТабличнаяЧастьЗаказУКБП.Количество,
	ТабличнаяЧастьЗаказУКБП.Количество
ИЗ
	ТабличнаяЧастьЗаказУКБП КАК ТабличнаяЧастьЗаказУКБП
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.укбп_КалькуляцияНаИзделие.КалькуляцияЗатрат КАК укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат
		ПО ТабличнаяЧастьЗаказУКБП.КалькуляцияНаИзделие = укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка
ГДЕ
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.ТипЦен = &amp;ТипЦенФиксир
	И ТабличнаяЧастьЗаказУКБП.ВидОперации = ЗНАЧЕНИЕ(Перечисление.укбп_ВидОперацииЗаказЗаявка.ПоставкаУслуги)

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТабличнаяЧастьЗаказУКБП.ВидОперации,
	ТабличнаяЧастьЗаказУКБП.ВидДоговора,
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.СтатьяКалькуляции,
	ТабличнаяЧастьЗаказУКБП.Количество * укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Сумма,
	0,
	ТабличнаяЧастьЗаказУКБП.укбп_ВидРаздельногоУчета,
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Прибыль,
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Цена * ТабличнаяЧастьЗаказУКБП.Количество,
	ВЫБОР
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18_118)
			ТОГДА 0.18
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20_120)
			ТОГДА 0.2
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10_110)
			ТОГДА 0.1
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС0)
			ТОГДА 0
	КОНЕЦ * укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Цена * ТабличнаяЧастьЗаказУКБП.Количество,
	ВЫБОР
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18_118)
			ТОГДА 1.18
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20_120)
			ТОГДА 1.2
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10_110)
			ТОГДА 1.1
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС0)
			ТОГДА 1
	КОНЕЦ * укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Цена * ТабличнаяЧастьЗаказУКБП.Количество,
	ТабличнаяЧастьЗаказУКБП.Количество
ИЗ
	ТабличнаяЧастьЗаказУКБП КАК ТабличнаяЧастьЗаказУКБП
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.укбп_КалькуляцияНаИзделие.КалькуляцияЗатрат КАК укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат
		ПО ТабличнаяЧастьЗаказУКБП.ШифрИзделия = укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Номенклатура
			И (укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Проведен)
			И ТабличнаяЧастьЗаказУКБП.ЗаказПокупателя = укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.ЗаказПокупателя
ГДЕ
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.ТипЦен = &amp;ТипЦенОриент
	И ТабличнаяЧастьЗаказУКБП.ВидОперации = ЗНАЧЕНИЕ(Перечисление.укбп_ВидОперацииЗаказЗаявка.НИОКР)

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТабличнаяЧастьЗаказУКБП.ВидОперации,
	ТабличнаяЧастьЗаказУКБП.ВидДоговора,
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.СтатьяКалькуляции,
	0,
	ТабличнаяЧастьЗаказУКБП.Количество * укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Сумма,
	ТабличнаяЧастьЗаказУКБП.укбп_ВидРаздельногоУчета,
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Прибыль,
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Цена * ТабличнаяЧастьЗаказУКБП.Количество,
	ВЫБОР
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18_118)
			ТОГДА 0.18
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20_120)
			ТОГДА 0.2
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10_110)
			ТОГДА 0.1
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС0)
			ТОГДА 0
	КОНЕЦ * укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Цена * ТабличнаяЧастьЗаказУКБП.Количество,
	ВЫБОР
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18_118)
			ТОГДА 1.18
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20_120)
			ТОГДА 1.2
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10_110)
			ТОГДА 1.1
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС0)
			ТОГДА 1
	КОНЕЦ * укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Цена * ТабличнаяЧастьЗаказУКБП.Количество,
	ТабличнаяЧастьЗаказУКБП.Количество
ИЗ
	ТабличнаяЧастьЗаказУКБП КАК ТабличнаяЧастьЗаказУКБП
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.укбп_КалькуляцияНаИзделие.КалькуляцияЗатрат КАК укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат
		ПО ТабличнаяЧастьЗаказУКБП.ШифрИзделия = укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Номенклатура
			И (укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.Проведен)
			И ТабличнаяЧастьЗаказУКБП.ЗаказПокупателя = укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.ЗаказПокупателя
ГДЕ
	укбп_КалькуляцияНаИзделиеКалькуляцияЗатрат.Ссылка.ТипЦен = &amp;ТипЦенФиксир
	И ТабличнаяЧастьЗаказУКБП.ВидОперации = ЗНАЧЕНИЕ(Перечисление.укбп_ВидОперацииЗаказЗаявка.НИОКР)

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТабличнаяЧастьЗаказУКБП.ВидОперации,
	ТабличнаяЧастьЗаказУКБП.ВидДоговора,
	"Прибыль",
	0,
	ТабличнаяЧастьЗаказУКБП.КалькуляцияНаИзделие.Прибыль * ТабличнаяЧастьЗаказУКБП.Количество,
	ТабличнаяЧастьЗаказУКБП.укбп_ВидРаздельногоУчета,
	0,
	0,
	0,
	0,
	ТабличнаяЧастьЗаказУКБП.Количество
ИЗ
	ТабличнаяЧастьЗаказУКБП КАК ТабличнаяЧастьЗаказУКБП
ГДЕ
	ТабличнаяЧастьЗаказУКБП.ВидОперации = ЗНАЧЕНИЕ(Перечисление.укбп_ВидОперацииЗаказЗаявка.ПоставкаУслуги)

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТабличнаяЧастьЗаказУКБП.ВидОперации,
	ТабличнаяЧастьЗаказУКБП.ВидДоговора,
	"НДС",
	0,
	ВЫБОР
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18_118)
			ТОГДА 0.18
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20_120)
			ТОГДА 0.2
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10_110)
			ТОГДА 0.1
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС0)
			ТОГДА 0
	КОНЕЦ * ТабличнаяЧастьЗаказУКБП.КалькуляцияНаИзделие.Цена * ТабличнаяЧастьЗаказУКБП.Количество,
	ТабличнаяЧастьЗаказУКБП.укбп_ВидРаздельногоУчета,
	0,
	0,
	0,
	0,
	ТабличнаяЧастьЗаказУКБП.Количество
ИЗ
	ТабличнаяЧастьЗаказУКБП КАК ТабличнаяЧастьЗаказУКБП
ГДЕ
	ТабличнаяЧастьЗаказУКБП.ВидОперации = ЗНАЧЕНИЕ(Перечисление.укбп_ВидОперацииЗаказЗаявка.ПоставкаУслуги)

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТабличнаяЧастьЗаказУКБП.ВидОперации,
	ТабличнаяЧастьЗаказУКБП.ВидДоговора,
	"Прибыль",
	0,
	укбп_КалькуляцияНаИзделие.Прибыль * ТабличнаяЧастьЗаказУКБП.Количество,
	ТабличнаяЧастьЗаказУКБП.укбп_ВидРаздельногоУчета,
	0,
	0,
	0,
	0,
	ТабличнаяЧастьЗаказУКБП.Количество
ИЗ
	ТабличнаяЧастьЗаказУКБП КАК ТабличнаяЧастьЗаказУКБП
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.укбп_КалькуляцияНаИзделие КАК укбп_КалькуляцияНаИзделие
		ПО ТабличнаяЧастьЗаказУКБП.ШифрИзделия = укбп_КалькуляцияНаИзделие.Номенклатура
			И (укбп_КалькуляцияНаИзделие.Проведен)
			И ТабличнаяЧастьЗаказУКБП.ЗаказПокупателя = укбп_КалькуляцияНаИзделие.ЗаказПокупателя
ГДЕ
	ТабличнаяЧастьЗаказУКБП.ВидОперации = ЗНАЧЕНИЕ(Перечисление.укбп_ВидОперацииЗаказЗаявка.НИОКР)

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТабличнаяЧастьЗаказУКБП.ВидОперации,
	ТабличнаяЧастьЗаказУКБП.ВидДоговора,
	"НДС",
	0,
	ВЫБОР
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18_118)
			ТОГДА 0.18
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20_120)
			ТОГДА 0.2
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10_110)
			ТОГДА 0.1
		КОГДА ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)
				ИЛИ ТабличнаяЧастьЗаказУКБП.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС0)
			ТОГДА 0
	КОНЕЦ * укбп_КалькуляцияНаИзделие.Цена * ТабличнаяЧастьЗаказУКБП.Количество,
	ТабличнаяЧастьЗаказУКБП.укбп_ВидРаздельногоУчета,
	0,
	0,
	0,
	0,
	ТабличнаяЧастьЗаказУКБП.Количество
ИЗ
	ТабличнаяЧастьЗаказУКБП КАК ТабличнаяЧастьЗаказУКБП
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.укбп_КалькуляцияНаИзделие КАК укбп_КалькуляцияНаИзделие
		ПО ТабличнаяЧастьЗаказУКБП.ШифрИзделия = укбп_КалькуляцияНаИзделие.Номенклатура
			И (укбп_КалькуляцияНаИзделие.Проведен)
			И ТабличнаяЧастьЗаказУКБП.ЗаказПокупателя = укбп_КалькуляцияНаИзделие.ЗаказПокупателя
ГДЕ
	ТабличнаяЧастьЗаказУКБП.ВидОперации = ЗНАЧЕНИЕ(Перечисление.укбп_ВидОперацииЗаказЗаявка.НИОКР)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	МАКСИМУМ("На каждую продукцию из Заказ УКБП есть калькуляция, т.е. расшифровка цены, есть ставка НДС, есть прибыль. В этом пакете получаем сгруппированные данные для этих показателей в разрезе статей калькуляции и отдельно НДС и Прибыль") КАК Описание,
	ВЫБОР
		КОГДА ОбъединениеКалькуляцииНДСИПрибыль.ВидОперации = ЗНАЧЕНИЕ(Перечисление.укбп_ВидОперацииЗаказЗаявка.ПоставкаУслуги)
			ТОГДА ВЫБОР
					КОГДА ОбъединениеКалькуляцииНДСИПрибыль.ВидДоговора.Госконтракт
						ТОГДА ЗНАЧЕНИЕ(Справочник.укбп_ВидыРаздельногоУчета.Гоз)
					ИНАЧЕ ЗНАЧЕНИЕ(Справочник.укбп_ВидыРаздельногоУчета.Минпромторг)
				КОНЕЦ
		ИНАЧЕ ОбъединениеКалькуляцииНДСИПрибыль.укбп_ВидРаздельногоУчета
	КОНЕЦ КАК ВидРаздельногоУчета,
	ОбъединениеКалькуляцииНДСИПрибыль.ВидОперации КАК ВидОперации,
	ОбъединениеКалькуляцииНДСИПрибыль.СтатьяКалькуляции КАК СтатьяКалькуляции,
	СУММА(ОбъединениеКалькуляцииНДСИПрибыль.СуммаФиксированная + ОбъединениеКалькуляцииНДСИПрибыль.СуммаОриентировочная) КАК ВсегоПоКалькуляциям,
	СУММА(ОбъединениеКалькуляцииНДСИПрибыль.СуммаФиксированная) КАК СуммаФиксированная,
	СУММА(ОбъединениеКалькуляцииНДСИПрибыль.СуммаОриентировочная) КАК СуммаОриентировочная
ПОМЕСТИТЬ ОбъединениеСгруп
ИЗ
	ОбъединениеКалькуляцииНДСИПрибыль КАК ОбъединениеКалькуляцииНДСИПрибыль
ГДЕ
	ОбъединениеКалькуляцииНДСИПрибыль.ВидОперации &lt;&gt; ЗНАЧЕНИЕ(Перечисление.укбп_ВидОперацииЗаказЗаявка.ПустаяСсылка)

СГРУППИРОВАТЬ ПО
	ОбъединениеКалькуляцииНДСИПрибыль.СтатьяКалькуляции,
	ОбъединениеКалькуляцииНДСИПрибыль.ВидОперации,
	ВЫБОР
		КОГДА ОбъединениеКалькуляцииНДСИПрибыль.ВидОперации = ЗНАЧЕНИЕ(Перечисление.укбп_ВидОперацииЗаказЗаявка.ПоставкаУслуги)
			ТОГДА ВЫБОР
					КОГДА ОбъединениеКалькуляцииНДСИПрибыль.ВидДоговора.Госконтракт
						ТОГДА ЗНАЧЕНИЕ(Справочник.укбп_ВидыРаздельногоУчета.Гоз)
					ИНАЧЕ ЗНАЧЕНИЕ(Справочник.укбп_ВидыРаздельногоУчета.Минпромторг)
				КОНЕЦ
		ИНАЧЕ ОбъединениеКалькуляцииНДСИПрибыль.укбп_ВидРаздельногоУчета
	КОНЕЦ
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	МАКСИМУМ(ЕСТЬNULL(укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.ПонижающийКоэффициент, 1)) КАК ПонижающийКоэффициент,
	ОбъединениеСгруп.СтатьяКалькуляции,
	ОбъединениеСгруп.ВидОперации
ПОМЕСТИТЬ КоэффициентыСтатейКалькуляции
ИЗ
	ОбъединениеСгруп КАК ОбъединениеСгруп
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляции.СрезПоследних(, ) КАК укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних
		ПО ОбъединениеСгруп.ВидОперации = укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.ВидОперации
			И ОбъединениеСгруп.СтатьяКалькуляции = укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.СтатьяКалькуляции

СГРУППИРОВАТЬ ПО
	ОбъединениеСгруп.СтатьяКалькуляции,
	ОбъединениеСгруп.ВидОперации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОбъединениеСгруп.ВидРаздельногоУчета,
	ОбъединениеСгруп.ВидОперации,
	ОбъединениеСгруп.СтатьяКалькуляции,
	ОбъединениеСгруп.ВсегоПоКалькуляциям,
	ОбъединениеСгруп.СуммаФиксированная,
	ОбъединениеСгруп.СуммаОриентировочная,
	КоэффициентыСтатейКалькуляции.ПонижающийКоэффициент,
	ОбъединениеСгруп.СуммаФиксированная + ОбъединениеСгруп.СуммаОриентировочная * ЕСТЬNULL(КоэффициентыСтатейКалькуляции.ПонижающийКоэффициент, 1) КАК Лимит
ПОМЕСТИТЬ КалькуляцииСПримененнымКоэффициентом
ИЗ
	ОбъединениеСгруп КАК ОбъединениеСгруп
		ЛЕВОЕ СОЕДИНЕНИЕ КоэффициентыСтатейКалькуляции КАК КоэффициентыСтатейКалькуляции
		ПО ОбъединениеСгруп.ВидОперации = КоэффициентыСтатейКалькуляции.ВидОперации
			И ОбъединениеСгруп.СтатьяКалькуляции = КоэффициентыСтатейКалькуляции.СтатьяКалькуляции
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	"Преобразование построчной суммы НДС из Заказ УКБП в итоговую статью УФК" КАК Описание,
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.УкрупненныйКодСведений,
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.Код,
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.Ссылка,
	ОбъединениеСгруп.СтатьяКалькуляции,
	ОбъединениеСгруп.ВидРаздельногоУчета,
	ОбъединениеСгруп.ВидОперации,
	ОбъединениеСгруп.ВсегоПоКалькуляциям КАК СуммаНДС,
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.НДС КАК СтавкаНДССтатьиУФК
ПОМЕСТИТЬ ВУкрупненныхСтатьяхСтатьяНДС
ИЗ
	Справочник.укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС КАК укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ОбъединениеСгруп КАК ОбъединениеСгруп
		ПО (ИСТИНА)
ГДЕ
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.Ссылка = &amp;СтатьяНДС
	И ОбъединениеСгруп.СтатьяКалькуляции = "НДС"
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	"Преобразование статей калькуляции в статьи УФК. 2,3 запрос - это НДС и Прибыль, чтобы отображались в одной колонке" КАК Описание,
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат.Ссылка.УкрупненныйКодСведений КАК УкрупненныйКод,
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат.Ссылка.Код КАК ДетализированныйКод,
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат.Ссылка КАК ДетализированнаяСтатьяУФК,
	ОбъединениеСгруп.СтатьяКалькуляции,
	ВЫБОР
		КОГДА укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат.Ссылка.НДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18)
				ИЛИ укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат.Ссылка.НДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18_118)
			ТОГДА 0.18
		КОГДА укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат.Ссылка.НДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20)
				ИЛИ укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат.Ссылка.НДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20_120)
			ТОГДА 0.2
		КОГДА укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат.Ссылка.НДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10)
				ИЛИ укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат.Ссылка.НДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10_110)
			ТОГДА 0.1
		КОГДА укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат.Ссылка.НДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)
				ИЛИ укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат.Ссылка.НДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС0)
			ТОГДА 0
	КОНЕЦ * ОбъединениеСгруп.ВсегоПоКалькуляциям КАК СуммаНДС,
	ОбъединениеСгруп.ВидРаздельногоУчета,
	ОбъединениеСгруп.ВидОперации,
	ОбъединениеСгруп.ВсегоПоКалькуляциям,
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат.Ссылка.НДС КАК СтавкаНДС
ПОМЕСТИТЬ ВУкрупненныхСтатьяхСтатьиКалькуляции
ИЗ
	ОбъединениеСгруп КАК ОбъединениеСгруп
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.СтатьиКалькуляцииЗатрат КАК укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат
		ПО ОбъединениеСгруп.СтатьяКалькуляции = укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДССтатьиКалькуляцииЗатрат.СтатьяКалькуляции

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	"Преобразование статей калькуляции в статьи УФК. 2,3 запрос - это НДС и Прибыль, чтобы отображались в одной колонке",
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.УкрупненныйКодСведений,
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.Код,
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.Ссылка,
	ОбъединениеСгруп.СтатьяКалькуляции,
	0,
	ОбъединениеСгруп.ВидРаздельногоУчета,
	ОбъединениеСгруп.ВидОперации,
	ОбъединениеСгруп.ВсегоПоКалькуляциям,
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.НДС
ИЗ
	Справочник.укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС КАК укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ОбъединениеСгруп КАК ОбъединениеСгруп
		ПО (ИСТИНА)
ГДЕ
	укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.Ссылка = &amp;СтатьяПрибыль
	И ОбъединениеСгруп.СтатьяКалькуляции = "Прибыль"

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	"Преобразование статей калькуляции в статьи УФК. 2,3 запрос - это НДС и Прибыль, чтобы отображались в одной колонке",
	ВУкрупненныхСтатьяхСтатьяНДС.УкрупненныйКодСведений,
	ВУкрупненныхСтатьяхСтатьяНДС.Код,
	ВУкрупненныхСтатьяхСтатьяНДС.Ссылка,
	ВУкрупненныхСтатьяхСтатьяНДС.СтатьяКалькуляции,
	0,
	ВУкрупненныхСтатьяхСтатьяНДС.ВидРаздельногоУчета,
	ВУкрупненныхСтатьяхСтатьяНДС.ВидОперации,
	ВУкрупненныхСтатьяхСтатьяНДС.СуммаНДС,
	ВУкрупненныхСтатьяхСтатьяНДС.СтавкаНДССтатьиУФК
ИЗ
	ВУкрупненныхСтатьяхСтатьяНДС КАК ВУкрупненныхСтатьяхСтатьяНДС
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	"Преобразование суммы статьи калькуляции при помощи удельного веса в сумму статьи УФК" КАК Описание,
	ВУкрупненныхСтатьяхСтатьиКалькуляции.УкрупненныйКод,
	ВУкрупненныхСтатьяхСтатьиКалькуляции.ДетализированныйКод,
	ВУкрупненныхСтатьяхСтатьиКалькуляции.ДетализированнаяСтатьяУФК,
	ВУкрупненныхСтатьяхСтатьиКалькуляции.СтатьяКалькуляции,
	ВУкрупненныхСтатьяхСтатьиКалькуляции.ВсегоПоКалькуляциям,
	ЕСТЬNULL(укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.УдельныйВес, 1) КАК УдельныйВес,
	ВЫРАЗИТЬ(ВУкрупненныхСтатьяхСтатьиКалькуляции.ВсегоПоКалькуляциям * ЕСТЬNULL(укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.УдельныйВес, 1) КАК ЧИСЛО(15, 2)) КАК ВсегоПоСтатьеУФК,
	ВЫБОР
		КОГДА ВУкрупненныхСтатьяхСтатьяНДС.СуммаНДС = 0
			ТОГДА 0
		ИНАЧЕ ВЫРАЗИТЬ(ВЫБОР
					КОГДА ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18)
							ИЛИ ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18_118)
						ТОГДА 0.18
					КОГДА ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20)
							ИЛИ ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20_120)
						ТОГДА 0.2
					КОГДА ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10)
							ИЛИ ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10_110)
						ТОГДА 0.1
					КОГДА ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)
							ИЛИ ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС0)
						ТОГДА 0
				КОНЕЦ * ВУкрупненныхСтатьяхСтатьиКалькуляции.ВсегоПоКалькуляциям * ЕСТЬNULL(укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.УдельныйВес, 1) КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК СуммаНДС,
	ВЫБОР
		КОГДА ВУкрупненныхСтатьяхСтатьяНДС.СуммаНДС = 0
			ТОГДА ВЫРАЗИТЬ(ВУкрупненныхСтатьяхСтатьиКалькуляции.ВсегоПоКалькуляциям * ЕСТЬNULL(укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.УдельныйВес, 1) + 0 * ВУкрупненныхСтатьяхСтатьиКалькуляции.ВсегоПоКалькуляциям * ЕСТЬNULL(укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.УдельныйВес, 1) КАК ЧИСЛО(15, 2))
		ИНАЧЕ ВЫРАЗИТЬ(ВУкрупненныхСтатьяхСтатьиКалькуляции.ВсегоПоКалькуляциям * ЕСТЬNULL(укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.УдельныйВес, 1) + ВЫБОР
					КОГДА ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18)
							ИЛИ ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС18_118)
						ТОГДА 0.18
					КОГДА ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20)
							ИЛИ ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20_120)
						ТОГДА 0.2
					КОГДА ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10)
							ИЛИ ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС10_110)
						ТОГДА 0.1
					КОГДА ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)
							ИЛИ ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС = ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС0)
						ТОГДА 0
				КОНЕЦ * ВУкрупненныхСтатьяхСтатьиКалькуляции.ВсегоПоКалькуляциям * ЕСТЬNULL(укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.УдельныйВес, 1) КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК СуммаСтатьиУФКИНДС,
	ВУкрупненныхСтатьяхСтатьиКалькуляции.СтавкаНДС
ПОМЕСТИТЬ ТаблицаСУдельнымВесом
ИЗ
	ВУкрупненныхСтатьяхСтатьиКалькуляции КАК ВУкрупненныхСтатьяхСтатьиКалькуляции
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляции.СрезПоследних КАК укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних
		ПО ВУкрупненныхСтатьяхСтатьиКалькуляции.СтатьяКалькуляции = укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.СтатьяКалькуляции
			И ВУкрупненныхСтатьяхСтатьиКалькуляции.ДетализированнаяСтатьяУФК = укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.СтатьяУФК
			И ВУкрупненныхСтатьяхСтатьиКалькуляции.ВидРаздельногоУчета = укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.ВидРаздельногоУчета
			И ВУкрупненныхСтатьяхСтатьиКалькуляции.ВидОперации = укбп_УдельныйВесДетализированногоКодаУФКВСтатьеКалькуляцииСрезПоследних.ВидОперации
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВУкрупненныхСтатьяхСтатьяНДС КАК ВУкрупненныхСтатьяхСтатьяНДС
		ПО (ИСТИНА)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТаблицаСУдельнымВесом.УкрупненныйКод,
	ТаблицаСУдельнымВесом.ДетализированныйКод,
	ТаблицаСУдельнымВесом.ДетализированнаяСтатьяУФК,
	ТаблицаСУдельнымВесом.СтатьяКалькуляции,
	ТаблицаСУдельнымВесом.ВсегоПоСтатьеУФК КАК ИтогоПоКалькуляции,
	ТаблицаСУдельнымВесом.СуммаНДС,
	ТаблицаСУдельнымВесом.СуммаСтатьиУФКИНДС КАК СуммаСтатьиУФКИНДС,
	ВЫРАЗИТЬ(ТаблицаСУдельнымВесом.УдельныйВес * ЕСТЬNULL(КалькуляцииСПримененнымКоэффициентом.Лимит, 0) + ТаблицаСУдельнымВесом.СуммаНДС КАК ЧИСЛО(15, 2)) КАК ЛимитРасходованияСведения
ПОМЕСТИТЬ ТаблицаДетальныеЗаписиПоСтатьямКалькуляции
ИЗ
	ТаблицаСУдельнымВесом КАК ТаблицаСУдельнымВесом
		ЛЕВОЕ СОЕДИНЕНИЕ КалькуляцииСПримененнымКоэффициентом КАК КалькуляцииСПримененнымКоэффициентом
		ПО ТаблицаСУдельнымВесом.СтатьяКалькуляции = КалькуляцииСПримененнымКоэффициентом.СтатьяКалькуляции
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТаблицаДетальныеЗаписиПоСтатьямКалькуляции.УкрупненныйКод,
	ТаблицаДетальныеЗаписиПоСтатьямКалькуляции.ДетализированныйКод,
	ТаблицаДетальныеЗаписиПоСтатьямКалькуляции.ДетализированнаяСтатьяУФК,
	СУММА(ТаблицаДетальныеЗаписиПоСтатьямКалькуляции.ИтогоПоКалькуляции) КАК ИтогоПоКалькуляции,
	СУММА(ТаблицаДетальныеЗаписиПоСтатьямКалькуляции.СуммаНДС) КАК СуммаНДС,
	СУММА(ТаблицаДетальныеЗаписиПоСтатьямКалькуляции.СуммаСтатьиУФКИНДС) КАК СуммаСтатьиУФКИНДС,
	СУММА(ТаблицаДетальныеЗаписиПоСтатьямКалькуляции.ЛимитРасходованияСведения) КАК ЛимитРасходованияСведения
ПОМЕСТИТЬ ТолькоСтатьиУФК
ИЗ
	ТаблицаДетальныеЗаписиПоСтатьямКалькуляции КАК ТаблицаДетальныеЗаписиПоСтатьямКалькуляции

СГРУППИРОВАТЬ ПО
	ТаблицаДетальныеЗаписиПоСтатьямКалькуляции.ДетализированныйКод,
	ТаблицаДетальныеЗаписиПоСтатьямКалькуляции.УкрупненныйКод,
	ТаблицаДетальныеЗаписиПоСтатьямКалькуляции.ДетализированнаяСтатьяУФК
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	СуммаНДСПоСтатьеНДС.ДетализированнаяСтатьяУФК КАК ДетализированнаяСтатьяУФК,
	СУММА(ВЫРАЗИТЬ(СуммаНДСПоСтатьеНДС.СуммаНДС КАК ЧИСЛО(15, 2))) КАК СуммаНДС
ПОМЕСТИТЬ СтатьяТолькоНДС
ИЗ
	(ВЫБРАТЬ
		ВЫРАЗИТЬ(&amp;СтатьяНДС КАК Справочник.укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС) КАК ДетализированнаяСтатьяУФК,
		СУММА(ТолькоСтатьиУФК.СуммаНДС) КАК СуммаНДС
	ИЗ
		ТолькоСтатьиУФК КАК ТолькоСтатьиУФК) КАК СуммаНДСПоСтатьеНДС

СГРУППИРОВАТЬ ПО
	СуммаНДСПоСтатьеНДС.ДетализированнаяСтатьяУФК
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	СУММА(ТолькоСтатьиУФК.СуммаСтатьиУФКИНДС - ТолькоСтатьиУФК.СуммаНДС) КАК СуммаСтатьиУФК,
	СУММА(ТолькоСтатьиУФК.ЛимитРасходованияСведения - ТолькоСтатьиУФК.СуммаНДС) КАК ЛимитРасходованияСведения
ПОМЕСТИТЬ ИтогиПоСтатьямУФК
ИЗ
	ТолькоСтатьиУФК КАК ТолькоСтатьиУФК
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТолькоСтатьиУФК.УкрупненныйКод,
	ТолькоСтатьиУФК.ДетализированныйКод,
	ТолькоСтатьиУФК.ДетализированнаяСтатьяУФК,
	ВЫБОР
		КОГДА ТолькоСтатьиУФК.СуммаСтатьиУФКИНДС = 0
			ТОГДА ЕСТЬNULL(СтатьяТолькоНДС.СуммаНДС, 0)
		ИНАЧЕ ТолькоСтатьиУФК.СуммаСтатьиУФКИНДС - ЕСТЬNULL(СтатьяТолькоНДС.СуммаНДС, 0)
	КОНЕЦ КАК ПланРасходаВсего,
	ВЫБОР
		КОГДА ТолькоСтатьиУФК.СуммаСтатьиУФКИНДС = 0
			ТОГДА 0
		ИНАЧЕ (ВЫРАЗИТЬ(ТолькоСтатьиУФК.СуммаСтатьиУФКИНДС - ЕСТЬNULL(СтатьяТолькоНДС.СуммаНДС, 0) КАК ЧИСЛО(24, 14))) / ИтогиПоСтатьямУФК.СуммаСтатьиУФК
	КОНЕЦ КАК ДоляДляРасходованияВСведениях,
	ВЫБОР
		КОГДА ТолькоСтатьиУФК.ЛимитРасходованияСведения = 0
			ТОГДА ЕСТЬNULL(СтатьяТолькоНДС.СуммаНДС, 0)
		ИНАЧЕ ТолькоСтатьиУФК.ЛимитРасходованияСведения - ЕСТЬNULL(СтатьяТолькоНДС.СуммаНДС, 0)
	КОНЕЦ КАК ЛимитРасходованияСведения,
	ВЫБОР
		КОГДА ТолькоСтатьиУФК.ЛимитРасходованияСведения = 0
			ТОГДА 0
		ИНАЧЕ (ВЫРАЗИТЬ(ТолькоСтатьиУФК.ЛимитРасходованияСведения - ЕСТЬNULL(СтатьяТолькоНДС.СуммаНДС, 0) КАК ЧИСЛО(24, 14))) / ИтогиПоСтатьямУФК.СуммаСтатьиУФК
	КОНЕЦ КАК ДоляДляЛимита,
	ТаблицаСДенежнымиСредствами.СуммаКонечныйОстаток КАК ИтогоКИспользованиюОстатокДС
ПОМЕСТИТЬ ИтоговаяТаблица
ИЗ
	ТолькоСтатьиУФК КАК ТолькоСтатьиУФК
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ИтогиПоСтатьямУФК КАК ИтогиПоСтатьямУФК
		ПО (ИСТИНА)
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ТаблицаСДенежнымиСредствами КАК ТаблицаСДенежнымиСредствами
		ПО (ИСТИНА)
		ЛЕВОЕ СОЕДИНЕНИЕ СтатьяТолькоНДС КАК СтатьяТолькоНДС
		ПО ТолькоСтатьиУФК.ДетализированнаяСтатьяУФК = СтатьяТолькоНДС.ДетализированнаяСтатьяУФК
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ИтоговаяТаблица.УкрупненныйКод КАК УкрупненныйКод,
	ИтоговаяТаблица.ДетализированныйКод КАК ДетализированныйКод,
	ИтоговаяТаблица.ДетализированнаяСтатьяУФК КАК СтатьяСведений,
	ВЫРАЗИТЬ(ИтоговаяТаблица.ИтогоКИспользованиюОстатокДС * ИтоговаяТаблица.ДоляДляРасходованияВСведениях КАК ЧИСЛО(15, 2)) КАК СуммаСведения,
	ВЫРАЗИТЬ(ИтоговаяТаблица.ИтогоКИспользованиюОстатокДС * ИтоговаяТаблица.ДоляДляЛимита КАК ЧИСЛО(15, 2)) КАК ЛимитРасходаПоСведениям
{ВЫБРАТЬ
	УкрупненныйКод,
	ДетализированныйКод,
	СтатьяСведений.*,
	СуммаСведения,
	ЛимитРасходаПоСведениям}
ИЗ
	ИтоговаяТаблица КАК ИтоговаяТаблица</query>
		<autoFillFields>false</autoFillFields>
	</dataSet>
	<parameter>
		<name>КонецПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Конец периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>НачалоПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Начало периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>СтатьяНДС</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Статья НДС</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС</v8:Type>
		</valueType>
		<value xsi:type="dcscor:DesignTimeValue">Справочник.укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.ПустаяСсылка</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>СтатьяПрибыль</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Статья прибыль</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС</v8:Type>
		</valueType>
		<value xsi:type="dcscor:DesignTimeValue">Справочник.укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.ПустаяСсылка</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>ТипЦенОриент</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Тип цен ориент</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.ТипыЦенНоменклатуры</v8:Type>
		</valueType>
		<value xsi:type="dcscor:DesignTimeValue">Справочник.ТипыЦенНоменклатуры.ПустаяСсылка</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>ТипЦенФиксир</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Тип цен фиксир</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.ТипыЦенНоменклатуры</v8:Type>
		</valueType>
		<value xsi:type="dcscor:DesignTimeValue">Справочник.ТипыЦенНоменклатуры.ПустаяСсылка</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>СтатьяУФК7440</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Статья УФК7440</v8:content>
			</v8:item>
		</title>
		<value xsi:nil="true"/>
		<useRestriction>true</useRestriction>
	</parameter>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="xs:string">Основной</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДетализированныйКод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СтатьяСведений</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>УкрупненныйКод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СуммаСведения</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ЛимитРасходаПоСведениям</dcsset:field>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">БанковскийСчет</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.БанковскиеСчета.ПустаяСсылка</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ЗаказУКБП</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Документ.укбп_ЗаказЗаявка.ПустаяСсылка</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ЗаказПокупателя</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Документ.ЗаказПокупателя.ПустаяСсылка</dcsset:right>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>КонецПериода</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardBeginningDate">
						<v8:variant xsi:type="v8:StandardBeginningDateVariant">Custom</v8:variant>
						<v8:date>2021-12-31T00:00:00</v8:date>
					</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>НачалоПериода</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardBeginningDate">
						<v8:variant xsi:type="v8:StandardBeginningDateVariant">Custom</v8:variant>
						<v8:date>2021-01-01T00:00:00</v8:date>
					</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>СтатьяНДС</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DesignTimeValue">Справочник.укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.ПустаяСсылка</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>СтатьяПрибыль</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DesignTimeValue">Справочник.укбп_СтатьиУльяновскогоКазначействаПоРасходованиюДС.ПустаяСсылка</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ТипЦенОриент</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DesignTimeValue">Справочник.ТипыЦенНоменклатуры.ПустаяСсылка</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ТипЦенФиксир</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DesignTimeValue">Справочник.ТипыЦенНоменклатуры.ПустаяСсылка</dcscor:value>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>